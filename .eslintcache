[{"/home/e-tech/Documents/pwa-app/src/index.js":"1","/home/e-tech/Documents/pwa-app/src/reportWebVitals.js":"2","/home/e-tech/Documents/pwa-app/src/redux/store/store.js":"3","/home/e-tech/Documents/pwa-app/src/Home.js":"4","/home/e-tech/Documents/pwa-app/src/redux/reducers/rootReducer.js":"5","/home/e-tech/Documents/pwa-app/src/components/Comment.js":"6","/home/e-tech/Documents/pwa-app/src/redux/actions/actions.js":"7","/home/e-tech/Documents/pwa-app/src/redux/saga/imageSaga.js":"8","/home/e-tech/Documents/pwa-app/src/redux/reducers/listPostReducer.js":"9","/home/e-tech/Documents/pwa-app/src/services/api.js":"10","/home/e-tech/Documents/pwa-app/src/AddPicture.js":"11","/home/e-tech/Documents/pwa-app/src/components/MenuBar.js":"12","/home/e-tech/Documents/pwa-app/src/components/Posts.js":"13","/home/e-tech/Documents/pwa-app/src/redux/reducers/imagesReducer.js":"14","/home/e-tech/Documents/pwa-app/src/redux/saga/listPostSaga.js":"15","/home/e-tech/Documents/pwa-app/src/redux/saga/rootSaga.js":"16","/home/e-tech/Documents/pwa-app/src/components/Camera.js":"17","/home/e-tech/Documents/pwa-app/src/redux/saga/addPostSaga.js":"18","/home/e-tech/Documents/pwa-app/src/redux/actionTypes/actionTypes.js":"19","/home/e-tech/Documents/pwa-app/src/redux/reducers/addPostReducer.js":"20","/home/e-tech/Documents/pwa-app/src/serviceWorkerRegistration.js":"21"},{"size":898,"mtime":1606114890823,"results":"22","hashOfConfig":"23"},{"size":364,"mtime":1606113991760,"results":"24","hashOfConfig":"23"},{"size":375,"mtime":1605768342881,"results":"25","hashOfConfig":"23"},{"size":4618,"mtime":1605873510832,"results":"26","hashOfConfig":"23"},{"size":347,"mtime":1605766688924,"results":"27","hashOfConfig":"23"},{"size":1813,"mtime":1605689364380,"results":"28","hashOfConfig":"23"},{"size":684,"mtime":1605766457472,"results":"29","hashOfConfig":"23"},{"size":743,"mtime":1605868285197,"results":"30","hashOfConfig":"23"},{"size":913,"mtime":1605792597685,"results":"31","hashOfConfig":"23"},{"size":63,"mtime":1605875522485,"results":"32","hashOfConfig":"23"},{"size":3395,"mtime":1605875758830,"results":"33","hashOfConfig":"23"},{"size":1211,"mtime":1605839269404,"results":"34","hashOfConfig":"23"},{"size":1031,"mtime":1605866861379,"results":"35","hashOfConfig":"23"},{"size":889,"mtime":1605777974518,"results":"36","hashOfConfig":"23"},{"size":766,"mtime":1605868291609,"results":"37","hashOfConfig":"23"},{"size":325,"mtime":1605768806174,"results":"38","hashOfConfig":"23"},{"size":1651,"mtime":1606194859065,"results":"39","hashOfConfig":"23"},{"size":981,"mtime":1606120913048,"results":"40","hashOfConfig":"23"},{"size":433,"mtime":1605766401588,"results":"41","hashOfConfig":"23"},{"size":816,"mtime":1605808339965,"results":"42","hashOfConfig":"23"},{"size":5064,"mtime":1606113991760,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1t13cs1",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/e-tech/Documents/pwa-app/src/index.js",[],["94","95"],"/home/e-tech/Documents/pwa-app/src/reportWebVitals.js",[],"/home/e-tech/Documents/pwa-app/src/redux/store/store.js",[],"/home/e-tech/Documents/pwa-app/src/Home.js",["96","97","98","99","100","101","102"],"import React, { useEffect, useState } from \"react\";\nimport MenuBar from \"../src/components/MenuBar\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport PostsList from \"../src/components/Posts\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {\n  PostListRequest,\n  ImageRequest,\n  PostRequest,\n} from \"../src/redux/actions/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Pagination from \"@material-ui/lab/Pagination\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    textAlign: \"center\",\n  },\n  postdata: {\n    boxShadow:\n      \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    padding: \"6px\",\n    // margin: \"16px\",\n    width: \"90%\",\n    marginTop: \"16px\",\n    minHeight: \"100px\",\n  },\n  addNewImage: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    marginTop: \"16px\",\n    marginRight: \"16px\",\n  },\n  Pagination: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    marginTop: \"8px\",\n    marginRight: \"8px\",\n  },\n}));\n\nconst Home = (props) => {\n  const dispatch = useDispatch();\n  const allPostList = useSelector((state) => state.PostListstatus);\n  const imageUrl = useSelector((state) => state.Imagestatus);\n  const postDataStatus = useSelector((state) => state.AddPoststatus);\n  const [offlineError, setOfflineError] = useState(\"\");\n  const [data, setData] = useState();\n\n  const [page, setPage] = useState(1);\n  const classes = useStyles();\n\n  const handleAddPicture = () => {\n    // const offlinePosts = JSON.parse(localStorage.getItem(\"newPost\"));\n    // console.log(!offlinePosts || offlinePosts?.length > 3);\n    // if (!offlinePosts || offlinePosts?.length > 3) {\n      props.history.push(\"/addpicture\");\n    // }\n    // if (offlinePosts?.length < 3) {\n    //   setOfflineError(\"No more posts can be added\");\n    // }\n  };\n  const isOnline = navigator.onLine;\n\n  useEffect(() => {\n    let newPosts = JSON.parse(localStorage.getItem(\"newPost\"));\n    newPosts?.map(async(val) => {\n      await dispatch(PostRequest(val));\n    });\n\n    if (localStorage.getItem(\"post\")) {\n      const allPosts = JSON.parse(localStorage.getItem(\"post\"));\n      setData(allPosts);\n    }\n    dispatch(PostListRequest(page));\n\n  }, []);\n\n  useEffect(async () => {\n    if (imageUrl?.data && allPostList&&allPostList?.data?.length && isOnline) {\n      const filteredArray = await Promise.all(\n        allPostList.data.map((val) => {\n          const imageArray = imageUrl?.data.find((el) => {\n            return el._id == val._id;\n          });\n          val[\"image\"] = imageArray?.imageName ? imageArray.imageName : \"\";\n          return val;\n        })\n      );\n\n      if (filteredArray.length) {\n        setData(filteredArray);\n        localStorage.setItem(\"post\", JSON.stringify(filteredArray));\n      }\n    }\n  }, [imageUrl?.data.length]);\n\n  useEffect(async () => {\n    if (allPostList&&allPostList?.data && isOnline && !postDataStatus.isLoading) {\n      if(allPostList&& allPostList?.data?.length){\n     allPostList.data.map(async (allpost) => {\n        await dispatch(ImageRequest(allpost._id));\n      });\n      }\n  \n    }\n  }, [allPostList.data]);\n\n  const handlePagination = (event, val) => {\n    dispatch(PostListRequest(val));\n    setPage(val);\n  };\n\n  return (\n    <div>\n      <MenuBar />\n      {!navigator.onLine ? (\n        <div>\n          <Alert severity='warning'>\n            You are in offline mode!! {offlineError}\n          </Alert>\n        </div>\n      ) : null}\n      <Grid\n        direction='row'\n        justify='space-around'\n        alignItems='center'\n        container\n      >\n        {data?.map((post, i) => {\n          return (\n            <Grid\n              item\n              className={classes.postdata}\n              xs={12}\n              sm={5}\n              md={5}\n              key={i}\n            >\n              <PostsList\n                key={i}\n                source={post.image || post.file}\n                comment={post.comment}\n              />\n            </Grid>\n          );\n        })}\n      </Grid>\n      <div className={classes.Pagination}>\n        <Pagination\n          count={allPostList?.totalpages}\n          color='primary'\n          page={page}\n          onChange={handlePagination}\n        />\n      </div>\n      <div className={classes.addNewImage}>\n        <Fab color='primary'>\n          <AddIcon fontSize='large' onClick={handleAddPicture} />\n        </Fab>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","/home/e-tech/Documents/pwa-app/src/redux/reducers/rootReducer.js",[],"/home/e-tech/Documents/pwa-app/src/components/Comment.js",[],"/home/e-tech/Documents/pwa-app/src/redux/actions/actions.js",[],"/home/e-tech/Documents/pwa-app/src/redux/saga/imageSaga.js",[],"/home/e-tech/Documents/pwa-app/src/redux/reducers/listPostReducer.js",[],"/home/e-tech/Documents/pwa-app/src/services/api.js",[],"/home/e-tech/Documents/pwa-app/src/AddPicture.js",["103","104"],"import React, { useEffect, useState } from \"react\";\nimport MenuBar from \"./components/MenuBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Comment from \"./components/Comment\";\nimport Camera from \"./components/Camera\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PostRequest } from \"../src/redux/actions/actions\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    textAlign: \"center\",\n  },\n  imgBox: {\n    maxWidth: \"80%\",\n    maxHeight: \"80%\",\n    margin: \"10px\",\n    border: \"none\",\n  },\n  img: {\n    height: \"inherit\",\n    maxWidth: \"inherit\",\n  },\n  input: {\n    display: \"none\",\n  },\n  postdata: {\n    boxShadow:\n      \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    border: \"1px soild red\",\n    padding: \"6px\",\n  },\n}));\n\nconst Home = (props) => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [source, setSource] = useState();\n  const [openCommentModal, setOpenCommentModal] = useState(false);\n  const [saveComment, setSaveComment] = useState(\"\");\n  const [postData, setPostData] = useState([]);\n\n\n  useEffect(() => {\n    navigator.mediaDevices\n      .getUserMedia({ video: true })\n      .then(gotMedia)\n      .catch((error) => \n      console.error(\"getUserMedia() error:\"\n      , error));\n\n    function gotMedia(mediaStream) {\n      const mediaStreamTrack = mediaStream.getVideoTracks()[0];\n      const imageCapture = new ImageCapture(mediaStreamTrack);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (postData.length > 0) {\n      localStorage.setItem(\"post\", JSON.stringify(postData));\n    }\n  }, [postData]);\n  useEffect(() => {\n    if (source) {\n      setOpenCommentModal(true);\n    }\n  }, [source]);\n\n  const uploadImage = (blob) => {\n    var reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = function () {\n      var base64data = reader.result;\n      setSource(base64data);\n    };\n    var newImg = document.createElement(\"img\"),\n      url = URL.createObjectURL(blob);\n    setSource(url);\n    newImg.onload = function () {\n      // no longer need to read the blob so it's revoked\n      URL.revokeObjectURL(url);\n    };\n    newImg.src = url;\n  };\n\n  const handleCancelComment = () => {\n    setOpenCommentModal(!openCommentModal);\n  };\n  const handleChange = (e) => {\n    setSaveComment(e.target.value);\n  };\n  const handleAddPost = async () => {\n    if (saveComment !== \"\") {\n      let postData = {\n        file: source,\n        comment: saveComment,\n      };\n      await dispatch(PostRequest(postData));\n      const allPostData = await JSON.parse(localStorage.getItem(\"post\"));\n      const newPostData = await allPostData?.length > 0 ? [...allPostData] : [];\n      await newPostData.push(postData);\n      await setPostData(newPostData);\n      await localStorage.setItem('post',JSON.stringify(newPostData))\n      await setOpenCommentModal(!openCommentModal);\n     await props.history.push(\"/\");\n    }\n  };\n  return (\n    <div>\n      <Comment\n        open={openCommentModal}\n        handleCancelComment={handleCancelComment}\n        handleChange={handleChange}\n        handleAddPost={handleAddPost}\n      />\n      <MenuBar />\n      <div>\n        <div className={classes.root}>\n          <Camera sendFile={uploadImage} />\n        </div>\n      </div>\n      {/* <canvas id='image_canvas'></canvas> */}\n    </div>\n  );\n};\n\nexport default Home;\n","/home/e-tech/Documents/pwa-app/src/components/MenuBar.js",[],["105","106"],"/home/e-tech/Documents/pwa-app/src/components/Posts.js",["107"],"import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"80%\",\n  marginTop:'8px',\n  marginBottom:'8px',\n  marginRight:'8px'\n  },\n\n  comment: {\n    marginLeft: \"16px\",\n  },\n}));\n\nexport default function Posts(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Grid container direction='row' justify='space-between'>\n        <Grid item>\n          {\n            props.source ?<img\n            src={props.source}\n            style={{ width: \"100px\", height: \"80px\" }}\n            alt='image'\n          />\n          :\n          <CircularProgress/>\n          }\n          \n        </Grid>\n        <Grid item xs className={classes.comment}>\n          <Typography>{props.comment}</Typography>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","/home/e-tech/Documents/pwa-app/src/redux/reducers/imagesReducer.js",[],["108","109"],"/home/e-tech/Documents/pwa-app/src/redux/saga/listPostSaga.js",[],["110","111"],"/home/e-tech/Documents/pwa-app/src/redux/saga/rootSaga.js",["112"],"import { fork, all } from \"redux-saga/effects\";\nimport { addPostsSaga } from \"./addPostSaga\";\nimport { listPostsSaga } from \"./listPostSaga\";\nimport {imagesSaga} from './imageSaga';\n\nfunction* watchAllSaga() {\n  {\n    yield all([fork(addPostsSaga), fork(listPostsSaga),fork(imagesSaga)]);\n  }\n}\n\nexport default watchAllSaga;\n","/home/e-tech/Documents/pwa-app/src/components/Camera.js",[],"/home/e-tech/Documents/pwa-app/src/redux/saga/addPostSaga.js",[],"/home/e-tech/Documents/pwa-app/src/redux/actionTypes/actionTypes.js",[],"/home/e-tech/Documents/pwa-app/src/redux/reducers/addPostReducer.js",[],"/home/e-tech/Documents/pwa-app/src/serviceWorkerRegistration.js",[],{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","severity":1,"message":"118","line":51,"column":24,"nodeType":"119","messageId":"120","endLine":51,"endColumn":39},{"ruleId":"121","severity":1,"message":"122","line":81,"column":6,"nodeType":"123","endLine":81,"endColumn":8,"suggestions":"124"},{"ruleId":"121","severity":1,"message":"125","line":83,"column":13,"nodeType":"126","endLine":100,"endColumn":4},{"ruleId":"127","severity":1,"message":"128","line":88,"column":27,"nodeType":"129","messageId":"130","endLine":88,"endColumn":29},{"ruleId":"121","severity":1,"message":"131","line":100,"column":6,"nodeType":"123","endLine":100,"endColumn":29,"suggestions":"132"},{"ruleId":"121","severity":1,"message":"125","line":102,"column":13,"nodeType":"126","endLine":111,"endColumn":4},{"ruleId":"121","severity":1,"message":"133","line":111,"column":6,"nodeType":"123","endLine":111,"endColumn":24,"suggestions":"134"},{"ruleId":"117","severity":1,"message":"135","line":6,"column":23,"nodeType":"119","messageId":"120","endLine":6,"endColumn":34},{"ruleId":"117","severity":1,"message":"136","line":53,"column":13,"nodeType":"119","messageId":"120","endLine":53,"endColumn":25},{"ruleId":"113","replacedBy":"137"},{"ruleId":"115","replacedBy":"138"},{"ruleId":"139","severity":1,"message":"140","line":28,"column":27,"nodeType":"141","endLine":32,"endColumn":13},{"ruleId":"113","replacedBy":"142"},{"ruleId":"115","replacedBy":"143"},{"ruleId":"113","replacedBy":"144"},{"ruleId":"115","replacedBy":"145"},{"ruleId":"146","severity":1,"message":"147","line":7,"column":3,"nodeType":"148","messageId":"149","endLine":9,"endColumn":4},"no-native-reassign",["150"],"no-negated-in-lhs",["151"],"no-unused-vars","'setOfflineError' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'page'. Either include them or remove the dependency array.","ArrayExpression",["152"],"Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'allPostList', 'imageUrl?.data', and 'isOnline'. Either include them or remove the dependency array.",["153"],"React Hook useEffect has missing dependencies: 'allPostList', 'dispatch', 'isOnline', and 'postDataStatus.isLoading'. Either include them or remove the dependency array.",["154"],"'useSelector' is defined but never used.","'imageCapture' is assigned a value but never used.",["150"],["151"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement",["150"],["151"],["150"],["151"],"no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","no-global-assign","no-unsafe-negation",{"desc":"155","fix":"156"},{"desc":"157","fix":"158"},{"desc":"159","fix":"160"},"Update the dependencies array to be: [dispatch, page]",{"range":"161","text":"162"},"Update the dependencies array to be: [allPostList, imageUrl?.data, imageUrl?.data.length, isOnline]",{"range":"163","text":"164"},"Update the dependencies array to be: [allPostList, allPostList.data, dispatch, isOnline, postDataStatus.isLoading]",{"range":"165","text":"166"},[2378,2380],"[dispatch, page]",[2961,2984],"[allPostList, imageUrl?.data, imageUrl?.data.length, isOnline]",[3278,3296],"[allPostList, allPostList.data, dispatch, isOnline, postDataStatus.isLoading]"]